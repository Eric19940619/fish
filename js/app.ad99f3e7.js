(function(t){function e(e){for(var a,i,c=e[0],s=e[1],l=e[2],u=0,d=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r={app:0},o=[];function c(t){return s.p+"js/"+({edit:"edit"}[t]||t)+"."+{edit:"06f206e4"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={edit:1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var a="css/"+({edit:"edit"}[t]||t)+"."+{edit:"03f7da4f"}[t]+".css",r=s.p+a,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var l=o[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===r))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===a||u===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete i[t],f.parentNode.removeChild(f),n(o)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){i[t]=0})));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",d.name="ChunkLoadError",d.type=a,d.request=i,n[1](d)}r[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0a50":function(t,e,n){"use strict";var a=n("0d6d"),i=n.n(a);i.a},"0d6d":function(t,e,n){},"21bb":function(t,e,n){"use strict";var a=n("2dad"),i=n.n(a);i.a},"2dad":function(t,e,n){},"306a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("AppHeader"),n("main",[n("router-view")],1)],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"block sunny"},[n("div",{staticClass:"menu"},[n("input",{attrs:{type:"checkbox",name:"menu-checkbox",id:"menu-checkbox"}}),t._m(0),n("nav",[n("router-link",{attrs:{to:{name:"Active"}}},[n("font-awesome-icon",{attrs:{icon:"clipboard-list"}}),t._v("現有訂單 ")],1),n("router-link",{attrs:{to:{name:"Complete"}}},[n("font-awesome-icon",{attrs:{icon:"clipboard-check"}}),t._v("已完成 ")],1),n("router-link",{attrs:{to:{name:"All"}}},[n("font-awesome-icon",{attrs:{icon:"clipboard"}}),t._v("全部訂單 ")],1)],1)]),n("h3",[t._v(t._s(t.DateString))]),n("button",{staticClass:"add",on:{click:t.RouteToAddItem}},[n("font-awesome-icon",{class:{edit:t.isEditing},attrs:{icon:"plus"}})],1)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"hamburger-menu",attrs:{for:"menu-checkbox"}},[n("span",{staticClass:"icon-bar"}),n("span",{staticClass:"icon-bar"}),n("span",{staticClass:"icon-bar"})])}],s=(n("b0c0"),{name:"AppHeader",data:function(){return{isEditing:!1}},computed:{DateString:function(){return(new Date).toLocaleDateString()}},methods:{RouteToAddItem:function(){"Edit"===this.$route.name?this.$router.push({name:"Active"}).catch((function(t){console.log(t)})):this.$router.push({name:"Edit"}).then((function(){})).catch((function(t){console.log(t)}))}},watch:{$route:function(t){"Edit"!==t.name?this.isEditing=!1:this.isEditing=!0}}}),l=s,u=(n("c620"),n("2877")),d=Object(u["a"])(l,o,c,!1,null,null,null),f=d.exports,p={components:{AppHeader:f},created:function(){this.$store.dispatch("GetData")}},m=p,h=(n("0a50"),n("5c64"),Object(u["a"])(m,i,r,!1,null,null,null)),v=h.exports,b=(n("d3b7"),n("8c4f")),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("DataFilter",{on:{ChangeValue:t.FilterChange}}),n("BuyerList",{attrs:{list:t.DataList}})],1)},y=[],_=(n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{attrs:{tag:"ol",name:"list"}},t._l(t.list,(function(t){return n("BuyerListItem",{key:t.id,staticClass:"list-item",attrs:{data:t.data,id:t.id}})})),1)}),D=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"item"},[n("button",{staticClass:"button-check",class:{complete:t.data.complete},on:{click:t.Complete}},[t.data.complete?n("font-awesome-icon",{attrs:{icon:"check"}}):t._e()],1),n("span",{staticClass:"item-text"},[t._v(" "+t._s(t.data.name)),n("br"),t._v(" "+t._s(t.Total)),n("br"),t._v(" "+t._s(t.Day)+" ")]),n("button",{staticClass:"button-edit",on:{click:t.Edit}},[n("font-awesome-icon",{attrs:{icon:"edit"}})],1),n("button",{staticClass:"button-delete",on:{click:t.Delete}},[n("font-awesome-icon",{attrs:{icon:"trash"}})],1)])},C=[],E=(n("99af"),{props:{id:"",data:{}},computed:{Day:function(){var t=new Date(this.data.date),e=["日","一","二","三","四","五","六"];return"".concat(t.getFullYear()-1911,"年").concat(t.getMonth()+1,"月").concat(t.getDate(),"日  星期").concat(e[t.getDay()])},Total:function(){var t="";return 0!==this.data.amount&&(t+=this.data.amount+"尾"),this.data.real&&(t+="實"),0!==this.data.amount&&0!==this.data.bag&&(t+=" 加 "),0!==this.data.bag&&(t+=this.data.bag+"袋"),t}},methods:{Complete:function(){this.data.complete?this.data.complete=!1:this.data.complete=!0;var t={id:this.id,data:this.data};this.$store.dispatch("UpdateData",t)},Delete:function(){var t=window.confirm("確定要刪除這筆訂單?");t&&this.$store.dispatch("DeleteData",this.id)},Edit:function(){this.$router.push({name:"Edit",query:{id:this.id}})}}}),x=E,k=(n("fe71"),Object(u["a"])(x,w,C,!1,null,null,null)),A=k.exports,T={props:{list:Array},components:{BuyerListItem:A},computed:{}},$=T,j=(n("e832"),Object(u["a"])($,_,D,!1,null,null,null)),O=j.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.filterType,expression:"filterType"}],attrs:{name:"filter-select",id:""},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filterType=e.target.multiple?n:n[0]},t.Value]}},[n("option",{attrs:{value:"name"}},[t._v("姓名")]),n("option",{attrs:{value:"date"}},[t._v("日期")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterValue,expression:"filterValue"}],attrs:{type:"text",name:"filter-value",id:""},domProps:{value:t.filterValue},on:{change:t.Value,input:function(e){e.target.composing||(t.filterValue=e.target.value)}}})])},V=[],L={data:function(){return{filterType:"name",filterValue:""}},methods:{Value:function(){var t={filterType:this.filterType,filterValue:this.filterValue};this.$emit("ChangeValue",t)}}},I=L,P=Object(u["a"])(I,S,V,!1,null,null,null),N=P.exports,U={components:{BuyerList:O,DataFilter:N},data:function(){return{list:[],filterType:"",filterValue:""}},computed:{DataList:function(){var t=this,e=this.$route.name,n=[];switch(e){case"Active":n=this.list.filter((function(t){return!1===t.data.complete}));break;case"Complete":n=this.list.filter((function(t){return!0===t.data.complete}));break;case"All":n=this.list}return""!==this.filterValue&&(n=n.filter((function(e){return e["data"][t.filterType]===t.filterValue}))),n}},methods:{FilterChange:function(t){this.filterType=t.filterType,this.filterValue=t.filterValue,this.list[1]["data"]["filterType"]}},mounted:function(){this.list=this.$store.getters.DataList}},B=U,F=(n("21bb"),Object(u["a"])(B,g,y,!1,null,null,null)),M=F.exports;a["a"].use(b["a"]);var G=[{path:"/active",name:"Active",component:M},{path:"/complete",name:"Complete",component:M},{path:"/all",name:"All",component:M},{path:"/edit/",name:"Edit",component:function(){return n.e("edit").then(n.bind(null,"1071"))}},{path:"*",redirect:"active"}],H=new b["a"]({routes:G,linkActiveClass:"active"}),q=H,K=(n("c740"),n("4160"),n("a434"),n("159b"),n("2f62")),R=n("59ca"),z=n.n(R),J=(n("e71f"),{apiKey:"AIzaSyA--3EVGAK9DsWI6AMleUIaSxgXyNGpQbU",authDomain:"goodfish-8acf6.firebaseapp.com",databaseURL:"https://goodfish-8acf6.firebaseio.com",projectId:"goodfish-8acf6"}),Q=z.a.initializeApp(J).firestore();a["a"].use(K["a"]);var W=new K["a"].Store({state:{list:[]},getters:{DataList:function(t){return t.list},DataIndex:function(t){return function(e){return t.list.findIndex((function(t){return t.id===e}))}},FindData:function(t,e){return function(n){return t.list[e.DataIndex(n)].data}}},mutations:{Set_Data:function(t,e){t.list.push(e),t.list.sort((function(t,e){return t.data.date-e.data.date}))},Update_Data:function(t,e){t.list.splice(this.getters.DataIndex(e.id),1,e)},Delete_Data:function(t,e){t.list.splice(this.getters.DataIndex(e),1)}},actions:{GetData:function(t){Q.collection("sales").get().then((function(e){e.forEach((function(e){var n=e.data(),a={id:e.id,data:n};t.commit("Set_Data",a)}))}))},AddData:function(t,e){Q.collection("sales").add(e).then((function(n){var a={};a=e,a.id=n.id,t.commit("Set_Data",a)})).catch((function(t){console.log(t)}))},UpdateData:function(t,e){Q.collection("sales").doc(e.id).set(e.data).then((function(){t.commit("Update_Data",e)})).catch((function(t){console.log(t)}))},DeleteData:function(t,e){Q.collection("sales").doc(e).delete().then((function(){t.commit("Delete_Data",e)}))}},modules:{}}),X=n("ecee"),Y=n("c074"),Z=n("ad3d");X["c"].add(Y["a"]),a["a"].component("font-awesome-icon",Z["a"]),a["a"].component("font-awesome-layers",Z["b"]),a["a"].component("font-awesome-layers-text",Z["c"]),a["a"].config.productionTip=!1,new a["a"]({router:q,store:W,render:function(t){return t(v)}}).$mount("#app")},"5c64":function(t,e,n){"use strict";var a=n("d32a"),i=n.n(a);i.a},"6bb7":function(t,e,n){},ac80:function(t,e,n){},c620:function(t,e,n){"use strict";var a=n("6bb7"),i=n.n(a);i.a},d32a:function(t,e,n){},e832:function(t,e,n){"use strict";var a=n("306a"),i=n.n(a);i.a},fe71:function(t,e,n){"use strict";var a=n("ac80"),i=n.n(a);i.a}});
//# sourceMappingURL=app.ad99f3e7.js.map